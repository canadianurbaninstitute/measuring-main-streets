import{S as dt,i as ft,s as ut,k as n,a as i,q as c,y as j,ab as ht,l as o,m as g,h as l,c as m,r as p,z as E,n as a,E as gt,F as e,b as mt,A as w,u as M,g as y,d as D,B as V,o as vt}from"../chunks/index.4dd7418a.js";/* empty css                       */import{h as $t}from"../chunks/singletons.8ba08d5c.js";import{L as _t,m as ae}from"../chunks/mapbox-gl.26fbe253.js";import{I as L}from"../chunks/Icon.ca1a9f14.js";const bt=$t("goto");function It(d){let b,u,v,I,x,$,t,F,X,ee,B,te,f,de,ke,ne,fe,Ce,ue,He,N,Re,T,Se,he,Ae,k,Me,ge,Le,z,Fe,P,q,Z,Pe,ve,xe,Y,Be,$e,Ne,C,Te,_e,ze,G,qe,H,Ze,be,Ye,J,Ge,Ie,Je,R,Ke,je,Oe,K,Qe,Ee,Ue,S,We,we,Xe,O,et,A,tt,ye,st,Q,rt,se,at,U,W,_;return T=new L({props:{icon:"bxs:tachometer",color:"#002a41"}}),z=new L({props:{icon:"fluent:people-20-filled",color:"#002a41"}}),Z=new L({props:{icon:"mdi:help-circle",color:"#979797"}}),Y=new L({props:{icon:"mdi:briefcase",color:"#002a41"}}),G=new L({props:{icon:"mdi:passport",color:"#002a41"}}),J=new L({props:{icon:"mdi:person",color:"#002a41"}}),K=new L({props:{icon:"mdi:shop",color:"#002a41"}}),O=new L({props:{icon:"mdi:building",color:"#002a41"}}),Q=new L({props:{icon:"mdi:home",color:"#002a41"}}),W=new _t({props:{minlabel:"Low",maxlabel:"High",label:"Business Density",gradient:"linear-gradient(to right, #cceffe, #99dffc, #34bef9, #018bc6, #004663)"}}),{c(){b=n("link"),u=n("script"),I=n("link"),x=i(),$=n("div"),t=n("div"),F=n("h5"),X=c("Click on a street segment on the map to view information."),ee=i(),B=n("hr"),te=i(),f=n("h2"),de=c(d[0]),ke=i(),ne=n("h5"),fe=c(d[1]),Ce=i(),ue=n("hr"),He=i(),N=n("div"),Re=c("Amenity Score: "),j(T.$$.fragment),Se=i(),he=n("hr"),Ae=i(),k=n("div"),Me=c("Population: "),ge=c(d[4]),Le=i(),j(z.$$.fragment),Fe=i(),P=n("div"),q=n("div"),j(Z.$$.fragment),Pe=c(" # of Employees: "),ve=c(d[3]),xe=i(),j(Y.$$.fragment),Be=i(),$e=n("hr"),Ne=i(),C=n("div"),Te=c("Recent Immigrants: "),_e=c(d[6]),ze=c("% "),j(G.$$.fragment),qe=i(),H=n("div"),Ze=c("Visible Minorities: "),be=c(d[5]),Ye=c("% "),j(J.$$.fragment),Ge=i(),Ie=n("hr"),Je=i(),R=n("div"),Ke=c("Business Independence Index: "),je=c(d[2]),Oe=i(),j(K.$$.fragment),Qe=i(),Ee=n("hr"),Ue=i(),S=n("div"),We=c("Apartments: "),we=c(d[8]),Xe=c("% "),j(O.$$.fragment),et=i(),A=n("div"),tt=c("Single Detached: "),ye=c(d[7]),st=c("% "),j(Q.$$.fragment),rt=i(),se=n("div"),at=i(),U=n("div"),j(W.$$.fragment),this.h()},l(s){const h=ht("svelte-1d53c28",document.head);b=o(h,"LINK",{href:!0,rel:!0}),u=o(h,"SCRIPT",{src:!0});var pt=g(u);pt.forEach(l),I=o(h,"LINK",{rel:!0,href:!0,type:!0}),h.forEach(l),x=m(s),$=o(s,"DIV",{id:!0,class:!0});var re=g($);t=o(re,"DIV",{id:!0,class:!0});var r=g(t);F=o(r,"H5",{});var ot=g(F);X=p(ot,"Click on a street segment on the map to view information."),ot.forEach(l),ee=m(r),B=o(r,"HR",{class:!0}),te=m(r),f=o(r,"H2",{class:!0});var lt=g(f);de=p(lt,d[0]),lt.forEach(l),ke=m(r),ne=o(r,"H5",{});var it=g(ne);fe=p(it,d[1]),it.forEach(l),Ce=m(r),ue=o(r,"HR",{class:!0}),He=m(r),N=o(r,"DIV",{class:!0});var nt=g(N);Re=p(nt,"Amenity Score: "),E(T.$$.fragment,nt),nt.forEach(l),Se=m(r),he=o(r,"HR",{class:!0}),Ae=m(r),k=o(r,"DIV",{class:!0});var oe=g(k);Me=p(oe,"Population: "),ge=p(oe,d[4]),Le=m(oe),E(z.$$.fragment,oe),oe.forEach(l),Fe=m(r),P=o(r,"DIV",{class:!0});var De=g(P);q=o(De,"DIV",{});var Ve=g(q);E(Z.$$.fragment,Ve),Pe=p(Ve," # of Employees: "),ve=p(Ve,d[3]),Ve.forEach(l),xe=m(De),E(Y.$$.fragment,De),De.forEach(l),Be=m(r),$e=o(r,"HR",{class:!0}),Ne=m(r),C=o(r,"DIV",{class:!0});var le=g(C);Te=p(le,"Recent Immigrants: "),_e=p(le,d[6]),ze=p(le,"% "),E(G.$$.fragment,le),le.forEach(l),qe=m(r),H=o(r,"DIV",{class:!0});var ie=g(H);Ze=p(ie,"Visible Minorities: "),be=p(ie,d[5]),Ye=p(ie,"% "),E(J.$$.fragment,ie),ie.forEach(l),Ge=m(r),Ie=o(r,"HR",{class:!0}),Je=m(r),R=o(r,"DIV",{class:!0});var ce=g(R);Ke=p(ce,"Business Independence Index: "),je=p(ce,d[2]),Oe=m(ce),E(K.$$.fragment,ce),ce.forEach(l),Qe=m(r),Ee=o(r,"HR",{class:!0}),Ue=m(r),S=o(r,"DIV",{class:!0});var me=g(S);We=p(me,"Apartments: "),we=p(me,d[8]),Xe=p(me,"% "),E(O.$$.fragment,me),me.forEach(l),et=m(r),A=o(r,"DIV",{class:!0});var pe=g(A);tt=p(pe,"Single Detached: "),ye=p(pe,d[7]),st=p(pe,"% "),E(Q.$$.fragment,pe),pe.forEach(l),r.forEach(l),rt=m(re),se=o(re,"DIV",{id:!0,class:!0}),g(se).forEach(l),at=m(re),U=o(re,"DIV",{id:!0,class:!0});var ct=g(U);E(W.$$.fragment,ct),ct.forEach(l),re.forEach(l),this.h()},h(){a(b,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),a(b,"rel","stylesheet"),gt(u.src,v="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js")||a(u,"src",v),a(I,"rel","stylesheet"),a(I,"href","https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css"),a(I,"type","text/css"),a(B,"class","svelte-11jc1tc"),a(f,"class","svelte-11jc1tc"),a(ue,"class","svelte-11jc1tc"),a(N,"class","metric svelte-11jc1tc"),a(he,"class","svelte-11jc1tc"),a(k,"class","metric svelte-11jc1tc"),a(P,"class","metric svelte-11jc1tc"),a($e,"class","svelte-11jc1tc"),a(C,"class","metric svelte-11jc1tc"),a(H,"class","metric svelte-11jc1tc"),a(Ie,"class","svelte-11jc1tc"),a(R,"class","metric svelte-11jc1tc"),a(Ee,"class","svelte-11jc1tc"),a(S,"class","metric svelte-11jc1tc"),a(A,"class","metric svelte-11jc1tc"),a(t,"id","sidebar"),a(t,"class","svelte-11jc1tc"),a(se,"id","map"),a(se,"class","svelte-11jc1tc"),a(U,"id","legend"),a(U,"class","svelte-11jc1tc"),a($,"id","map-container"),a($,"class","svelte-11jc1tc")},m(s,h){e(document.head,b),e(document.head,u),e(document.head,I),mt(s,x,h),mt(s,$,h),e($,t),e(t,F),e(F,X),e(t,ee),e(t,B),e(t,te),e(t,f),e(f,de),e(t,ke),e(t,ne),e(ne,fe),e(t,Ce),e(t,ue),e(t,He),e(t,N),e(N,Re),w(T,N,null),e(t,Se),e(t,he),e(t,Ae),e(t,k),e(k,Me),e(k,ge),e(k,Le),w(z,k,null),e(t,Fe),e(t,P),e(P,q),w(Z,q,null),e(q,Pe),e(q,ve),e(P,xe),w(Y,P,null),e(t,Be),e(t,$e),e(t,Ne),e(t,C),e(C,Te),e(C,_e),e(C,ze),w(G,C,null),e(t,qe),e(t,H),e(H,Ze),e(H,be),e(H,Ye),w(J,H,null),e(t,Ge),e(t,Ie),e(t,Je),e(t,R),e(R,Ke),e(R,je),e(R,Oe),w(K,R,null),e(t,Qe),e(t,Ee),e(t,Ue),e(t,S),e(S,We),e(S,we),e(S,Xe),w(O,S,null),e(t,et),e(t,A),e(A,tt),e(A,ye),e(A,st),w(Q,A,null),e($,rt),e($,se),e($,at),e($,U),w(W,U,null),_=!0},p(s,[h]){(!_||h&1)&&M(de,s[0]),(!_||h&2)&&M(fe,s[1]),(!_||h&16)&&M(ge,s[4]),(!_||h&8)&&M(ve,s[3]),(!_||h&64)&&M(_e,s[6]),(!_||h&32)&&M(be,s[5]),(!_||h&4)&&M(je,s[2]),(!_||h&256)&&M(we,s[8]),(!_||h&128)&&M(ye,s[7])},i(s){_||(y(T.$$.fragment,s),y(z.$$.fragment,s),y(Z.$$.fragment,s),y(Y.$$.fragment,s),y(G.$$.fragment,s),y(J.$$.fragment,s),y(K.$$.fragment,s),y(O.$$.fragment,s),y(Q.$$.fragment,s),y(W.$$.fragment,s),_=!0)},o(s){D(T.$$.fragment,s),D(z.$$.fragment,s),D(Z.$$.fragment,s),D(Y.$$.fragment,s),D(G.$$.fragment,s),D(J.$$.fragment,s),D(K.$$.fragment,s),D(O.$$.fragment,s),D(Q.$$.fragment,s),D(W.$$.fragment,s),_=!1},d(s){l(b),l(u),l(I),s&&l(x),s&&l($),V(T),V(z),V(Z),V(Y),V(G),V(J),V(K),V(O),V(Q),V(W)}}}function jt(d,b,u){ae.accessToken="pk.eyJ1IjoiYW5hbm1heSIsImEiOiJjbDk0azNmY3oxa203M3huMzhyZndlZDRoIn0.1L-fBYplQMuwz0LGctNeiA";let{map:v}=b,I="Canada",x="Main Streets",$="",t="",F="",X=0,ee=0,B=0,te=0;return vt(()=>{u(9,v=new ae.Map({container:"map",style:"mapbox://styles/ananmay/clnc7tpm907rd01p93bgs013m?&fresh=true",center:[-89,53],zoom:3.6,minZoom:2,scrollZoom:!0,attributionControl:!1})),v.addControl(new ae.NavigationControl),v.addControl(new ae.AttributionControl({customAttribution:"Canadian Urban Institute"})),v.on("load",()=>{v.addControl(new MapboxGeocoder({accessToken:ae.accessToken,countries:"ca",proximity:"ip",types:"address, region, country, postcode, district, place, locality, neighborhood",language:"en, fr",marker:!0,placeholder:"Search for a place",mapboxgl:ae}),"top-left")}),v.on("click",["mainstreets-canada","mainstreets-canada-invisible"],f=>{u(0,I=f.features[0].properties.R_STNAM),u(1,x=f.features[0].properties.R_PLACE),u(2,$=f.features[0].properties.BII_avg.toFixed(2)),u(3,t=f.features[0].properties.emp_sum.toFixed(0)),u(4,F=f.features[0].properties.Pop),u(5,X=f.features[0].properties.Eth_VM.toFixed(0)),u(6,ee=f.features[0].properties.Eth_Imm.toFixed(0)),u(8,te=f.features[0].properties.HH_APT.toFixed(1)),u(7,B=f.features[0].properties.HH_SDH.toFixed(1))}),v.on("click","toronto-bias",f=>{bt("/casestudies/westqueenwest_alt")}),v.on("mouseenter",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{v.getCanvas().style.cursor=""})}),d.$$set=f=>{"map"in f&&u(9,v=f.map)},[I,x,$,t,F,X,ee,B,te,v]}class kt extends dt{constructor(b){super(),ft(this,b,jt,It,ut,{map:9})}}export{kt as component};
