import{S as ct,i as mt,s as ft,k as d,q as D,y as b,l as $,m as M,r as L,z as _,h as E,n as u,b as Qe,F as s,A as F,u as ge,g as w,d as I,B as j,a as c,ab as pt,c as m,E as gt,o as ht}from"../chunks/index.4dd7418a.js";/* empty css                       */import{h as dt}from"../chunks/singletons.e1597c41.js";import{L as $t,m as pe}from"../chunks/mapbox-gl.09742dd5.js";import{I as ut}from"../chunks/Icon.ca1a9f14.js";const vt=dt("goto");function bt(i){let o,a,p,x,k,g,e,v;return e=new ut({props:{icon:i[2],color:i[3]}}),{c(){o=d("div"),a=D(i[0]),p=D(": "),x=D(i[4]),k=D(i[1]),g=D(i[5]),b(e.$$.fragment),this.h()},l(l){o=$(l,"DIV",{class:!0});var h=M(o);a=L(h,i[0]),p=L(h,": "),x=L(h,i[4]),k=L(h,i[1]),g=L(h,i[5]),_(e.$$.fragment,h),h.forEach(E),this.h()},h(){u(o,"class","metric svelte-1jelvro")},m(l,h){Qe(l,o,h),s(o,a),s(o,p),s(o,x),s(o,k),s(o,g),F(e,o,null),v=!0},p(l,[h]){(!v||h&1)&&ge(a,l[0]),(!v||h&16)&&ge(x,l[4]),(!v||h&2)&&ge(k,l[1]),(!v||h&32)&&ge(g,l[5]);const A={};h&4&&(A.icon=l[2]),h&8&&(A.color=l[3]),e.$set(A)},i(l){v||(w(e.$$.fragment,l),v=!0)},o(l){I(e.$$.fragment,l),v=!1},d(l){l&&E(o),j(e)}}}function _t(i,o,a){let{label:p=""}=o,{value:x}=o,{icon:k=""}=o,{iconcolor:g="#002a41"}=o,{prefix:e=""}=o,{suffix:v=""}=o;return i.$$set=l=>{"label"in l&&a(0,p=l.label),"value"in l&&a(1,x=l.value),"icon"in l&&a(2,k=l.icon),"iconcolor"in l&&a(3,g=l.iconcolor),"prefix"in l&&a(4,e=l.prefix),"suffix"in l&&a(5,v=l.suffix)},[p,x,k,g,e,v]}class C extends ct{constructor(o){super(),mt(this,o,_t,bt,ft,{label:0,value:1,icon:2,iconcolor:3,prefix:4,suffix:5})}}function Ft(i){let o,a,p,x,k,g,e,v,l,h,A,ae,H,ee,ie,V,te,le,re,oe,R,ce,n,Ee,be,ke,P,Ae,T,Re,_e,Me,B,He,y,Se,N,De,Fe,Le,q,Ve,G,Pe,Z,Te,we,Be,z,ye,J,Ne,W,qe,Ie,Ge,O,Ze,Y,ze,K,Je,je,We,U,Oe,xe,Ye,X,Ke,Q,Ue,me,Xe,se,ne,fe;return n=new ut({props:{icon:"bxs:tachometer",color:"#002a41"}}),P=new C({props:{label:"Population",value:i[2],icon:"fluent:people-20-filled"}}),T=new C({props:{label:"Employees",value:i[3],icon:"mdi:briefcase"}}),B=new C({props:{label:"Civic Infrastructure",value:i[6],icon:"heroicons:building-library-20-solid"}}),y=new C({props:{label:"Businesses",value:i[4],icon:"mdi:shop"}}),N=new C({props:{label:"Business Independence Index",value:i[5],icon:"mdi:shop"}}),q=new C({props:{label:"Average Income",prefix:"$",value:i[7],icon:"mdi:dollar"}}),G=new C({props:{label:"% of Population with Bachelors",value:i[8],suffix:"%",icon:"mdi:school"}}),Z=new C({props:{label:"Average Age",value:i[9],icon:"mdi:calendar"}}),z=new C({props:{label:"Recent Immigrants",value:i[10],suffix:"%",icon:"mdi:passport"}}),J=new C({props:{label:"Visible Minorities",value:i[11],suffix:"%",icon:"mdi:person"}}),W=new C({props:{label:"Indigenous",value:i[12],suffix:"%",icon:"mdi:person"}}),O=new C({props:{label:"Car",value:i[13],suffix:"%",icon:"mdi:car"}}),Y=new C({props:{label:"Public Transit",value:i[14],suffix:"%",icon:"mdi:bus"}}),K=new C({props:{label:"Active Transit",value:i[15],suffix:"%",icon:"mdi:bike"}}),U=new C({props:{label:"Dwellings",value:i[16],icon:"mdi:building"}}),X=new C({props:{label:"English Speakers",value:i[18],suffix:"%",icon:"mdi:web-box"}}),Q=new C({props:{label:"French Speakers",value:i[17],suffix:"%",icon:"material-symbols:language-french"}}),ne=new $t({props:{minlabel:"Low",maxlabel:"High",label:"Business Density",gradient:"linear-gradient(to right, #cceffe, #99dffc, #34bef9, #018bc6, #004663)"}}),{c(){o=d("link"),a=d("script"),x=d("link"),k=c(),g=d("div"),e=d("div"),v=d("h5"),l=D("Click on a street segment on the map to view information."),h=c(),A=d("hr"),ae=c(),H=d("h2"),ee=D(i[0]),ie=c(),V=d("h5"),te=D(i[1]),le=c(),re=d("hr"),oe=c(),R=d("div"),ce=D("Amenity Score: "),b(n.$$.fragment),Ee=c(),be=d("hr"),ke=c(),b(P.$$.fragment),Ae=c(),b(T.$$.fragment),Re=c(),_e=d("hr"),Me=c(),b(B.$$.fragment),He=c(),b(y.$$.fragment),Se=c(),b(N.$$.fragment),De=c(),Fe=d("hr"),Le=c(),b(q.$$.fragment),Ve=c(),b(G.$$.fragment),Pe=c(),b(Z.$$.fragment),Te=c(),we=d("hr"),Be=c(),b(z.$$.fragment),ye=c(),b(J.$$.fragment),Ne=c(),b(W.$$.fragment),qe=c(),Ie=d("hr"),Ge=c(),b(O.$$.fragment),Ze=c(),b(Y.$$.fragment),ze=c(),b(K.$$.fragment),Je=c(),je=d("hr"),We=c(),b(U.$$.fragment),Oe=c(),xe=d("hr"),Ye=c(),b(X.$$.fragment),Ke=c(),b(Q.$$.fragment),Ue=c(),me=d("div"),Xe=c(),se=d("div"),b(ne.$$.fragment),this.h()},l(t){const f=pt("svelte-1d53c28",document.head);o=$(f,"LINK",{href:!0,rel:!0}),a=$(f,"SCRIPT",{src:!0});var Ce=M(a);Ce.forEach(E),x=$(f,"LINK",{rel:!0,href:!0,type:!0}),f.forEach(E),k=m(t),g=$(t,"DIV",{id:!0,class:!0});var S=M(g);e=$(S,"DIV",{id:!0,class:!0});var r=M(e);v=$(r,"H5",{});var he=M(v);l=L(he,"Click on a street segment on the map to view information."),he.forEach(E),h=m(r),A=$(r,"HR",{class:!0}),ae=m(r),H=$(r,"H2",{class:!0});var de=M(H);ee=L(de,i[0]),de.forEach(E),ie=m(r),V=$(r,"H5",{});var $e=M(V);te=L($e,i[1]),$e.forEach(E),le=m(r),re=$(r,"HR",{class:!0}),oe=m(r),R=$(r,"DIV",{class:!0});var ue=M(R);ce=L(ue,"Amenity Score: "),_(n.$$.fragment,ue),ue.forEach(E),Ee=m(r),be=$(r,"HR",{class:!0}),ke=m(r),_(P.$$.fragment,r),Ae=m(r),_(T.$$.fragment,r),Re=m(r),_e=$(r,"HR",{class:!0}),Me=m(r),_(B.$$.fragment,r),He=m(r),_(y.$$.fragment,r),Se=m(r),_(N.$$.fragment,r),De=m(r),Fe=$(r,"HR",{class:!0}),Le=m(r),_(q.$$.fragment,r),Ve=m(r),_(G.$$.fragment,r),Pe=m(r),_(Z.$$.fragment,r),Te=m(r),we=$(r,"HR",{class:!0}),Be=m(r),_(z.$$.fragment,r),ye=m(r),_(J.$$.fragment,r),Ne=m(r),_(W.$$.fragment,r),qe=m(r),Ie=$(r,"HR",{class:!0}),Ge=m(r),_(O.$$.fragment,r),Ze=m(r),_(Y.$$.fragment,r),ze=m(r),_(K.$$.fragment,r),Je=m(r),je=$(r,"HR",{class:!0}),We=m(r),_(U.$$.fragment,r),Oe=m(r),xe=$(r,"HR",{class:!0}),Ye=m(r),_(X.$$.fragment,r),Ke=m(r),_(Q.$$.fragment,r),r.forEach(E),Ue=m(S),me=$(S,"DIV",{id:!0,class:!0}),M(me).forEach(E),Xe=m(S),se=$(S,"DIV",{id:!0,class:!0});var ve=M(se);_(ne.$$.fragment,ve),ve.forEach(E),S.forEach(E),this.h()},h(){u(o,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),u(o,"rel","stylesheet"),gt(a.src,p="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js")||u(a,"src",p),u(x,"rel","stylesheet"),u(x,"href","https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css"),u(x,"type","text/css"),u(A,"class","svelte-11jc1tc"),u(H,"class","svelte-11jc1tc"),u(re,"class","svelte-11jc1tc"),u(R,"class","metric svelte-11jc1tc"),u(be,"class","svelte-11jc1tc"),u(_e,"class","svelte-11jc1tc"),u(Fe,"class","svelte-11jc1tc"),u(we,"class","svelte-11jc1tc"),u(Ie,"class","svelte-11jc1tc"),u(je,"class","svelte-11jc1tc"),u(xe,"class","svelte-11jc1tc"),u(e,"id","sidebar"),u(e,"class","svelte-11jc1tc"),u(me,"id","map"),u(me,"class","svelte-11jc1tc"),u(se,"id","legend"),u(se,"class","svelte-11jc1tc"),u(g,"id","map-container"),u(g,"class","svelte-11jc1tc")},m(t,f){s(document.head,o),s(document.head,a),s(document.head,x),Qe(t,k,f),Qe(t,g,f),s(g,e),s(e,v),s(v,l),s(e,h),s(e,A),s(e,ae),s(e,H),s(H,ee),s(e,ie),s(e,V),s(V,te),s(e,le),s(e,re),s(e,oe),s(e,R),s(R,ce),F(n,R,null),s(e,Ee),s(e,be),s(e,ke),F(P,e,null),s(e,Ae),F(T,e,null),s(e,Re),s(e,_e),s(e,Me),F(B,e,null),s(e,He),F(y,e,null),s(e,Se),F(N,e,null),s(e,De),s(e,Fe),s(e,Le),F(q,e,null),s(e,Ve),F(G,e,null),s(e,Pe),F(Z,e,null),s(e,Te),s(e,we),s(e,Be),F(z,e,null),s(e,ye),F(J,e,null),s(e,Ne),F(W,e,null),s(e,qe),s(e,Ie),s(e,Ge),F(O,e,null),s(e,Ze),F(Y,e,null),s(e,ze),F(K,e,null),s(e,Je),s(e,je),s(e,We),F(U,e,null),s(e,Oe),s(e,xe),s(e,Ye),F(X,e,null),s(e,Ke),F(Q,e,null),s(g,Ue),s(g,me),s(g,Xe),s(g,se),F(ne,se,null),fe=!0},p(t,f){(!fe||f[0]&1)&&ge(ee,t[0]),(!fe||f[0]&2)&&ge(te,t[1]);const Ce={};f[0]&4&&(Ce.value=t[2]),P.$set(Ce);const S={};f[0]&8&&(S.value=t[3]),T.$set(S);const r={};f[0]&64&&(r.value=t[6]),B.$set(r);const he={};f[0]&16&&(he.value=t[4]),y.$set(he);const de={};f[0]&32&&(de.value=t[5]),N.$set(de);const $e={};f[0]&128&&($e.value=t[7]),q.$set($e);const ue={};f[0]&256&&(ue.value=t[8]),G.$set(ue);const ve={};f[0]&512&&(ve.value=t[9]),Z.$set(ve);const et={};f[0]&1024&&(et.value=t[10]),z.$set(et);const tt={};f[0]&2048&&(tt.value=t[11]),J.$set(tt);const rt={};f[0]&4096&&(rt.value=t[12]),W.$set(rt);const st={};f[0]&8192&&(st.value=t[13]),O.$set(st);const nt={};f[0]&16384&&(nt.value=t[14]),Y.$set(nt);const at={};f[0]&32768&&(at.value=t[15]),K.$set(at);const it={};f[0]&65536&&(it.value=t[16]),U.$set(it);const lt={};f[0]&262144&&(lt.value=t[18]),X.$set(lt);const ot={};f[0]&131072&&(ot.value=t[17]),Q.$set(ot)},i(t){fe||(w(n.$$.fragment,t),w(P.$$.fragment,t),w(T.$$.fragment,t),w(B.$$.fragment,t),w(y.$$.fragment,t),w(N.$$.fragment,t),w(q.$$.fragment,t),w(G.$$.fragment,t),w(Z.$$.fragment,t),w(z.$$.fragment,t),w(J.$$.fragment,t),w(W.$$.fragment,t),w(O.$$.fragment,t),w(Y.$$.fragment,t),w(K.$$.fragment,t),w(U.$$.fragment,t),w(X.$$.fragment,t),w(Q.$$.fragment,t),w(ne.$$.fragment,t),fe=!0)},o(t){I(n.$$.fragment,t),I(P.$$.fragment,t),I(T.$$.fragment,t),I(B.$$.fragment,t),I(y.$$.fragment,t),I(N.$$.fragment,t),I(q.$$.fragment,t),I(G.$$.fragment,t),I(Z.$$.fragment,t),I(z.$$.fragment,t),I(J.$$.fragment,t),I(W.$$.fragment,t),I(O.$$.fragment,t),I(Y.$$.fragment,t),I(K.$$.fragment,t),I(U.$$.fragment,t),I(X.$$.fragment,t),I(Q.$$.fragment,t),I(ne.$$.fragment,t),fe=!1},d(t){E(o),E(a),E(x),t&&E(k),t&&E(g),j(n),j(P),j(T),j(B),j(y),j(N),j(q),j(G),j(Z),j(z),j(J),j(W),j(O),j(Y),j(K),j(U),j(X),j(Q),j(ne)}}}function wt(i,o,a){pe.accessToken="pk.eyJ1IjoiY2FuYWRpYW51cmJhbmluc3RpdHV0ZSIsImEiOiJjbG95bzJiMG4wNW5mMmlzMjkxOW5lM241In0.o8ZurilZ00tGHXFV-gLSag";let{map:p}=o,x="Canada",k="Main Streets",g="",e="",v="",l="",h="",A="",ae="",H="",ee="",ie="",V="",te="",le="",re="",oe="",R="",ce="";return ht(()=>{a(19,p=new pe.Map({container:"map",style:"mapbox://styles/canadianurbaninstitute/clpa3pw06003901qr8j8v7rjj",center:[-89,53],zoom:3.6,minZoom:2,scrollZoom:!0,attributionControl:!1})),p.addControl(new pe.NavigationControl),p.addControl(new pe.AttributionControl({customAttribution:"Canadian Urban Institute"})),p.on("load",()=>{p.addControl(new MapboxGeocoder({accessToken:pe.accessToken,countries:"ca",proximity:"ip",types:"address, region, country, postcode, district, place, locality, neighborhood",language:"en, fr",marker:!0,placeholder:"Search for a place",mapboxgl:pe}),"top-left")}),p.on("click",["mainstreets-canada","mainstreets-canada-invisible"],n=>{a(0,x=n.features[0].properties.R_STNAM),a(1,k=n.features[0].properties.R_PLACE),a(2,g=n.features[0].properties.Pop),a(3,e=n.features[0].properties.total_emp.toFixed(0)),a(4,v=n.features[0].properties.Bsnss_t.toFixed(0)),n.features[0].properties.FdandDr.toFixed(0),n.features[0].properties.Retail.toFixed(0),n.features[0].properties.SrvcsaO.toFixed(0),a(5,l=n.features[0].properties.BII_avg.toFixed(2)),a(6,h=n.features[0].properties.Cvc_ttl.toFixed(0)),n.features[0].properties.ArtsanC.toFixed(0),n.features[0].properties.Educatn.toFixed(0),n.features[0].properties.GvrnaCS.toFixed(0),n.features[0].properties.HlthaCF.toFixed(0),n.features[0].properties.RcrtnFc.toFixed(0),a(7,A=n.features[0].properties.AvgEmpInc.toFixed(0)),a(8,ae=n.features[0].properties.UniDeg.toFixed(0)),a(9,H=n.features[0].properties.AvgAge.toFixed(0)),a(10,ee=n.features[0].properties.ImmNPR.toFixed(0)),a(11,ie=n.features[0].properties.VM.toFixed(0)),a(12,V=n.features[0].properties.Indig.toFixed(0)),a(13,te=n.features[0].properties.MobCar.toFixed(0)),a(14,le=n.features[0].properties.MobPT.toFixed(0)),a(15,re=n.features[0].properties.MobAct.toFixed(0)),a(16,oe=n.features[0].properties.TotalDwellings.toFixed(0)),n.features[0].properties.SinDetach.toFixed(0),n.features[0].properties.SemiDetach.toFixed(0),n.features[0].properties.Duplex.toFixed(0),n.features[0].properties.AptMore5.toFixed(0),n.features[0].properties.AptLess5.toFixed(0),a(18,ce=n.features[0].properties.LanEng.toFixed(0)),a(17,R=n.features[0].properties.LanFr.toFixed(0))}),p.on("click","toronto-bias",n=>{vt("/casestudies/westqueenwest")}),p.on("mouseenter",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{p.getCanvas().style.cursor="pointer"}),p.on("mouseleave",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{p.getCanvas().style.cursor=""})}),i.$$set=n=>{"map"in n&&a(19,p=n.map)},[x,k,g,e,v,l,h,A,ae,H,ee,ie,V,te,le,re,oe,R,ce,p]}class kt extends ct{constructor(o){super(),mt(this,o,wt,Ft,ft,{map:19},null,[-1,-1])}}export{kt as component};
