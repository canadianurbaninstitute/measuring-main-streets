import{S as je,i as Pe,s as He,k as S,y as E,q as be,a as I,l as L,m as j,z as D,r as we,h as y,c as F,n as b,b as ce,F as c,A as V,u as ye,g as _,v as et,d as w,f as tt,B as k,H as Oe,a6 as ze,R as Ze,a7 as st,I as We,J as Ke,K as Ye,a5 as nt,T as rt,a4 as at,N as it,E as ot,o as lt}from"../chunks/index.a6b6c6c4.js";/* empty css                       */import{h as ct}from"../chunks/singletons.f1d08438.js";import{L as ft,m as _e}from"../chunks/mapbox-gl.44c6dc53.js";import{I as Qe}from"../chunks/Icon.5f508f64.js";const ut=ct("goto");function Ue(n){let e,t;return e=new Qe({props:{icon:"mdi:unfold-more-horizontal"}}),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){V(e,s,o),t=!0},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function mt(n){let e,t,s,o,f,g,a,$,m,i,R,d;o=new Qe({props:{icon:n[2],color:n[3]}});let l=n[6]&&Ue();return{c(){e=S("div"),t=S("div"),s=S("div"),E(o.$$.fragment),f=be(n[4]),g=be(n[1]),a=be(n[5]),$=I(),m=S("div"),i=be(n[0]),R=I(),l&&l.c(),this.h()},l(r){e=L(r,"DIV",{class:!0});var p=j(e);t=L(p,"DIV",{class:!0});var v=j(t);s=L(v,"DIV",{class:!0});var q=j(s);D(o.$$.fragment,q),f=we(q,n[4]),g=we(q,n[1]),a=we(q,n[5]),q.forEach(y),$=F(v),m=L(v,"DIV",{class:!0});var H=j(m);i=we(H,n[0]),H.forEach(y),v.forEach(y),R=F(p),l&&l.l(p),p.forEach(y),this.h()},h(){b(s,"class","value svelte-1nn20m2"),b(m,"class","label svelte-1nn20m2"),b(t,"class","text svelte-1nn20m2"),b(e,"class","metric svelte-1nn20m2")},m(r,p){ce(r,e,p),c(e,t),c(t,s),V(o,s,null),c(s,f),c(s,g),c(s,a),c(t,$),c(t,m),c(m,i),c(e,R),l&&l.m(e,null),d=!0},p(r,[p]){const v={};p&4&&(v.icon=r[2]),p&8&&(v.color=r[3]),o.$set(v),(!d||p&16)&&ye(f,r[4]),(!d||p&2)&&ye(g,r[1]),(!d||p&32)&&ye(a,r[5]),(!d||p&1)&&ye(i,r[0]),r[6]?l?p&64&&_(l,1):(l=Ue(),l.c(),_(l,1),l.m(e,null)):l&&(et(),w(l,1,1,()=>{l=null}),tt())},i(r){d||(_(o.$$.fragment,r),_(l),d=!0)},o(r){w(o.$$.fragment,r),w(l),d=!1},d(r){r&&y(e),k(o),l&&l.d()}}}function gt(n,e,t){let{label:s=""}=e,{value:o}=e,{icon:f=""}=e,{iconcolor:g="#002a41"}=e,{prefix:a=""}=e,{suffix:$=""}=e,{accordion:m=!1}=e;return n.$$set=i=>{"label"in i&&t(0,s=i.label),"value"in i&&t(1,o=i.value),"icon"in i&&t(2,f=i.icon),"iconcolor"in i&&t(3,g=i.iconcolor),"prefix"in i&&t(4,a=i.prefix),"suffix"in i&&t(5,$=i.suffix),"accordion"in i&&t(6,m=i.accordion)},[s,o,f,g,a,$,m]}class M extends je{constructor(e){super(),Pe(this,e,gt,mt,He,{label:0,value:1,icon:2,iconcolor:3,prefix:4,suffix:5,accordion:6})}}function dt(n,e){e=Object.assign({open:!0,duration:.2,easing:"ease"},e);const s=()=>{};let o=s,f=s;const g=n.addEventListener("transitionend",()=>{o(),o=s,f=s});async function a(){return new Promise((r,p)=>{o=r,f=p})}async function $(){return new Promise(requestAnimationFrame)}function m(){return`height ${e.duration}s ${e.easing}`}n.style.transition=m(),n.style.height=e.open?"auto":"0px",e.open?n.style.overflow="visible":n.style.overflow="hidden";async function i(){n.style.height=n.scrollHeight+"px";try{await a(),n.style.height="auto",n.style.overflow="visible"}catch{}}async function R(){n.style.height==="auto"?(n.style.transition="none",await $(),n.style.height=n.scrollHeight+"px",n.style.transition=m(),await $(),n.style.overflow="hidden",n.style.height="0px"):(f(),n.style.overflow="hidden",n.style.height="0px")}function d(r){e=Object.assign(e,r),e.open?i():R()}function l(){n.removeEventListener("transitionend",g)}return{update:d,destroy:l}}const pt=n=>({}),Xe=n=>({}),$t=n=>({}),xe=n=>({});function ht(n){let e,t,s,o,f,g,a,$;const m=n[5].header,i=Oe(m,n,n[4],xe),R=n[5].body,d=Oe(R,n,n[4],Xe);return{c(){e=S("div"),t=S("div"),i&&i.c(),s=I(),o=S("div"),d&&d.c(),this.h()},l(l){e=L(l,"DIV",{class:!0,"aria-expanded":!0});var r=j(e);t=L(r,"DIV",{class:!0});var p=j(t);i&&i.l(p),p.forEach(y),s=F(r),o=L(r,"DIV",{class:!0});var v=j(o);d&&d.l(v),v.forEach(y),r.forEach(y),this.h()},h(){b(t,"class","card-header svelte-1h32mba"),b(o,"class","card-body"),b(e,"class","card"),b(e,"aria-expanded",n[0]),ze(e,"open",n[0])},m(l,r){ce(l,e,r),c(e,t),i&&i.m(t,null),c(e,s),c(e,o),d&&d.m(o,null),g=!0,a||($=[Ze(t,"keydown",n[3]),Ze(t,"click",n[3]),st(f=dt.call(null,o,{open:n[0],duration:n[1],easing:n[2]}))],a=!0)},p(l,[r]){i&&i.p&&(!g||r&16)&&We(i,m,l,l[4],g?Ye(m,l[4],r,$t):Ke(l[4]),xe),d&&d.p&&(!g||r&16)&&We(d,R,l,l[4],g?Ye(R,l[4],r,pt):Ke(l[4]),Xe),f&&nt(f.update)&&r&7&&f.update.call(null,{open:l[0],duration:l[1],easing:l[2]}),(!g||r&1)&&b(e,"aria-expanded",l[0]),(!g||r&1)&&ze(e,"open",l[0])},i(l){g||(_(i,l),_(d,l),g=!0)},o(l){w(i,l),w(d,l),g=!1},d(l){l&&y(e),i&&i.d(l),d&&d.d(l),a=!1,rt($)}}}function vt(n,e,t){let{$$slots:s={},$$scope:o}=e,{open:f=!1}=e,{duration:g=.2}=e,{easing:a="ease"}=e;const $=at();function m(){t(0,f=!f),$(f?"open":"close")}return n.$$set=i=>{"open"in i&&t(0,f=i.open),"duration"in i&&t(1,g=i.duration),"easing"in i&&t(2,a=i.easing),"$$scope"in i&&t(4,o=i.$$scope)},[f,g,a,m,o,s]}class Me extends je{constructor(e){super(),Pe(this,e,vt,ht,He,{open:0,duration:1,easing:2})}}function _t(n){let e,t;return e=new M({props:{accordion:!0,slot:"header",label:"Civic Infrastructure",value:n[9],icon:"heroicons:building-library-20-solid"}}),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){V(e,s,o),t=!0},p(s,o){const f={};o[0]&512&&(f.value=s[9]),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function bt(n){let e,t,s,o,f,g,a,$,m,i,R,d,l;return s=new M({props:{label:"Education",value:n[12],icon:"mdi:school"}}),f=new M({props:{label:"Arts & Culture",value:n[13],icon:"fa6-solid:masks-theater"}}),a=new M({props:{label:"Recreation",value:n[14],icon:"material-symbols:park-rounded"}}),i=new M({props:{label:"Government & Community Services",value:n[10],icon:"mingcute:government-fill"}}),d=new M({props:{label:"Health & Care Facilities",value:n[11],icon:"mdi:hospital-box"}}),{c(){e=S("div"),t=S("div"),E(s.$$.fragment),o=I(),E(f.$$.fragment),g=I(),E(a.$$.fragment),$=I(),m=S("div"),E(i.$$.fragment),R=I(),E(d.$$.fragment),this.h()},l(r){e=L(r,"DIV",{slot:!0});var p=j(e);t=L(p,"DIV",{class:!0});var v=j(t);D(s.$$.fragment,v),o=F(v),D(f.$$.fragment,v),g=F(v),D(a.$$.fragment,v),v.forEach(y),$=F(p),m=L(p,"DIV",{class:!0});var q=j(m);D(i.$$.fragment,q),R=F(q),D(d.$$.fragment,q),q.forEach(y),p.forEach(y),this.h()},h(){b(t,"class","metric-container svelte-1foys2q"),b(m,"class","metric-container svelte-1foys2q"),b(e,"slot","body")},m(r,p){ce(r,e,p),c(e,t),V(s,t,null),c(t,o),V(f,t,null),c(t,g),V(a,t,null),c(e,$),c(e,m),V(i,m,null),c(m,R),V(d,m,null),l=!0},p(r,p){const v={};p[0]&4096&&(v.value=r[12]),s.$set(v);const q={};p[0]&8192&&(q.value=r[13]),f.$set(q);const H={};p[0]&16384&&(H.value=r[14]),a.$set(H);const P={};p[0]&1024&&(P.value=r[10]),i.$set(P);const T={};p[0]&2048&&(T.value=r[11]),d.$set(T)},i(r){l||(_(s.$$.fragment,r),_(f.$$.fragment,r),_(a.$$.fragment,r),_(i.$$.fragment,r),_(d.$$.fragment,r),l=!0)},o(r){w(s.$$.fragment,r),w(f.$$.fragment,r),w(a.$$.fragment,r),w(i.$$.fragment,r),w(d.$$.fragment,r),l=!1},d(r){r&&y(e),k(s),k(f),k(a),k(i),k(d)}}}function wt(n){let e,t;return e=new M({props:{accordion:!0,slot:"header",label:"Businesses",value:n[4],icon:"mdi:building"}}),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){V(e,s,o),t=!0},p(s,o){const f={};o[0]&16&&(f.value=s[4]),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function yt(n){let e,t,s,o,f,g,a;return t=new M({props:{label:"Retail",value:n[5],icon:"mdi:shopping"}}),o=new M({props:{label:"Food & Drink",value:n[7],icon:"dashicons:food"}}),g=new M({props:{label:"Services",value:n[6],icon:"mdi:ticket"}}),{c(){e=S("div"),E(t.$$.fragment),s=I(),E(o.$$.fragment),f=I(),E(g.$$.fragment),this.h()},l($){e=L($,"DIV",{slot:!0,class:!0});var m=j(e);D(t.$$.fragment,m),s=F(m),D(o.$$.fragment,m),f=F(m),D(g.$$.fragment,m),m.forEach(y),this.h()},h(){b(e,"slot","body"),b(e,"class","metric-container svelte-1foys2q")},m($,m){ce($,e,m),V(t,e,null),c(e,s),V(o,e,null),c(e,f),V(g,e,null),a=!0},p($,m){const i={};m[0]&32&&(i.value=$[5]),t.$set(i);const R={};m[0]&128&&(R.value=$[7]),o.$set(R);const d={};m[0]&64&&(d.value=$[6]),g.$set(d)},i($){a||(_(t.$$.fragment,$),_(o.$$.fragment,$),_(g.$$.fragment,$),a=!0)},o($){w(t.$$.fragment,$),w(o.$$.fragment,$),w(g.$$.fragment,$),a=!1},d($){$&&y(e),k(t),k(o),k(g)}}}function It(n){let e,t;return e=new M({props:{accordion:!0,slot:"header",label:"Dwellings",value:n[24],icon:"material-symbols:apartment"}}),{c(){E(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){V(e,s,o),t=!0},p(s,o){const f={};o[0]&16777216&&(f.value=s[24]),e.$set(f)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function Ft(n){let e,t,s,o,f,g,a,$,m,i,R,d,l;return s=new M({props:{label:"Single Detached",value:n[25],suffix:"%"}}),f=new M({props:{label:"Semi-Detached",value:n[26],suffix:"%"}}),a=new M({props:{label:"Duplex",value:n[27],suffix:"%"}}),i=new M({props:{label:"Apartment (>5 stories)",value:n[28],suffix:"%"}}),d=new M({props:{label:"Apartment (<5 stories)",value:n[29],suffix:"%"}}),{c(){e=S("div"),t=S("div"),E(s.$$.fragment),o=I(),E(f.$$.fragment),g=I(),E(a.$$.fragment),$=I(),m=S("div"),E(i.$$.fragment),R=I(),E(d.$$.fragment),this.h()},l(r){e=L(r,"DIV",{slot:!0});var p=j(e);t=L(p,"DIV",{class:!0});var v=j(t);D(s.$$.fragment,v),o=F(v),D(f.$$.fragment,v),g=F(v),D(a.$$.fragment,v),v.forEach(y),$=F(p),m=L(p,"DIV",{class:!0});var q=j(m);D(i.$$.fragment,q),R=F(q),D(d.$$.fragment,q),q.forEach(y),p.forEach(y),this.h()},h(){b(t,"class","metric-container svelte-1foys2q"),b(m,"class","metric-container svelte-1foys2q"),b(e,"slot","body")},m(r,p){ce(r,e,p),c(e,t),V(s,t,null),c(t,o),V(f,t,null),c(t,g),V(a,t,null),c(e,$),c(e,m),V(i,m,null),c(m,R),V(d,m,null),l=!0},p(r,p){const v={};p[0]&33554432&&(v.value=r[25]),s.$set(v);const q={};p[0]&67108864&&(q.value=r[26]),f.$set(q);const H={};p[0]&134217728&&(H.value=r[27]),a.$set(H);const P={};p[0]&268435456&&(P.value=r[28]),i.$set(P);const T={};p[0]&536870912&&(T.value=r[29]),d.$set(T)},i(r){l||(_(s.$$.fragment,r),_(f.$$.fragment,r),_(a.$$.fragment,r),_(i.$$.fragment,r),_(d.$$.fragment,r),l=!0)},o(r){w(s.$$.fragment,r),w(f.$$.fragment,r),w(a.$$.fragment,r),w(i.$$.fragment,r),w(d.$$.fragment,r),l=!1},d(r){r&&y(e),k(s),k(f),k(a),k(i),k(d)}}}function Et(n){let e,t,s,o,f,g,a,$,m,i,R,d,l,r,p,v,q,H,P,T,B,fe,G,ue,J,me,re,ge,O,z,de,Z,pe,h,$e,N,X,Ve,x,ke,Q,qe,W,ee,Ce,te,Re,se,Ae,ne,Se,he,Le,ae,ie,ve;return q=new M({props:{label:"Population",value:n[2],icon:"fluent:people-20-filled"}}),P=new M({props:{label:"Employees",value:n[3],icon:"mdi:briefcase"}}),B=new Me({props:{$$slots:{body:[bt],header:[_t]},$$scope:{ctx:n}}}),G=new Me({props:{$$slots:{body:[yt],header:[wt]},$$scope:{ctx:n}}}),J=new M({props:{label:"Business Independence Index",value:n[8],icon:"mdi:shop"}}),z=new M({props:{label:"Average Income",prefix:"$",value:n[15].toLocaleString(),icon:"mdi:wallet"}}),Z=new M({props:{label:"Bachelor's Degree",value:n[16],suffix:"%",icon:"mdi:school"}}),h=new M({props:{accordion:!0,label:"Average Age",value:n[17],icon:"mingcute:birthday-2-fill"}}),X=new M({props:{label:"Recent Immigrants",value:n[18],suffix:"%",icon:"mdi:globe"}}),x=new M({props:{label:"Visible Minorities",value:n[19],suffix:"%",icon:"material-symbols:handshake"}}),Q=new M({props:{label:"Indigenous Population",value:n[20],suffix:"%",icon:"mdi:person"}}),ee=new M({props:{label:"Car",value:n[21],suffix:"%",icon:"mdi:car"}}),te=new M({props:{label:"Public Transit",value:n[22],suffix:"%",icon:"mdi:bus"}}),se=new M({props:{label:"Active Transit",value:n[23],suffix:"%",icon:"mdi:bike"}}),ne=new Me({props:{$$slots:{body:[Ft],header:[It]},$$scope:{ctx:n}}}),ie=new ft({props:{minlabel:"Low",maxlabel:"High",label:"Business Density",gradient:"linear-gradient(to right, #cceffe, #99dffc, #34bef9, #018bc6, #004663)"}}),{c(){e=S("link"),t=S("script"),o=S("link"),f=I(),g=S("div"),a=S("div"),$=S("h2"),m=be(n[0]),i=I(),R=S("h5"),d=be(n[1]),l=I(),r=S("hr"),p=I(),v=S("div"),E(q.$$.fragment),H=I(),E(P.$$.fragment),T=I(),E(B.$$.fragment),fe=I(),E(G.$$.fragment),ue=I(),E(J.$$.fragment),me=I(),re=S("hr"),ge=I(),O=S("div"),E(z.$$.fragment),de=I(),E(Z.$$.fragment),pe=I(),E(h.$$.fragment),$e=I(),N=S("div"),E(X.$$.fragment),Ve=I(),E(x.$$.fragment),ke=I(),E(Q.$$.fragment),qe=I(),W=S("div"),E(ee.$$.fragment),Ce=I(),E(te.$$.fragment),Re=I(),E(se.$$.fragment),Ae=I(),E(ne.$$.fragment),Se=I(),he=S("div"),Le=I(),ae=S("div"),E(ie.$$.fragment),this.h()},l(u){const C=it("svelte-1d53c28",document.head);e=L(C,"LINK",{href:!0,rel:!0}),t=L(C,"SCRIPT",{src:!0});var De=j(t);De.forEach(y),o=L(C,"LINK",{rel:!0,href:!0,type:!0}),C.forEach(y),f=F(u),g=L(u,"DIV",{id:!0,class:!0});var K=j(g);a=L(K,"DIV",{id:!0,class:!0});var A=j(a);$=L(A,"H2",{class:!0});var Ie=j($);m=we(Ie,n[0]),Ie.forEach(y),i=F(A),R=L(A,"H5",{});var Fe=j(R);d=we(Fe,n[1]),Fe.forEach(y),l=F(A),r=L(A,"HR",{class:!0}),p=F(A),v=L(A,"DIV",{class:!0});var oe=j(v);D(q.$$.fragment,oe),H=F(oe),D(P.$$.fragment,oe),oe.forEach(y),T=F(A),D(B.$$.fragment,A),fe=F(A),D(G.$$.fragment,A),ue=F(A),D(J.$$.fragment,A),me=F(A),re=L(A,"HR",{class:!0}),ge=F(A),O=L(A,"DIV",{class:!0});var le=j(O);D(z.$$.fragment,le),de=F(le),D(Z.$$.fragment,le),le.forEach(y),pe=F(A),D(h.$$.fragment,A),$e=F(A),N=L(A,"DIV",{class:!0});var Y=j(N);D(X.$$.fragment,Y),Ve=F(Y),D(x.$$.fragment,Y),ke=F(Y),D(Q.$$.fragment,Y),Y.forEach(y),qe=F(A),W=L(A,"DIV",{class:!0});var U=j(W);D(ee.$$.fragment,U),Ce=F(U),D(te.$$.fragment,U),Re=F(U),D(se.$$.fragment,U),U.forEach(y),Ae=F(A),D(ne.$$.fragment,A),A.forEach(y),Se=F(K),he=L(K,"DIV",{id:!0,class:!0}),j(he).forEach(y),Le=F(K),ae=L(K,"DIV",{id:!0,class:!0});var Ee=j(ae);D(ie.$$.fragment,Ee),Ee.forEach(y),K.forEach(y),this.h()},h(){b(e,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),b(e,"rel","stylesheet"),ot(t.src,s="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js")||b(t,"src",s),b(o,"rel","stylesheet"),b(o,"href","https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css"),b(o,"type","text/css"),b($,"class","svelte-1foys2q"),b(r,"class","svelte-1foys2q"),b(v,"class","metric-container svelte-1foys2q"),b(re,"class","svelte-1foys2q"),b(O,"class","metric-container svelte-1foys2q"),b(N,"class","metric-container svelte-1foys2q"),b(W,"class","metric-container svelte-1foys2q"),b(a,"id","sidebar"),b(a,"class","svelte-1foys2q"),b(he,"id","map"),b(he,"class","svelte-1foys2q"),b(ae,"id","legend"),b(ae,"class","svelte-1foys2q"),b(g,"id","map-container"),b(g,"class","svelte-1foys2q")},m(u,C){c(document.head,e),c(document.head,t),c(document.head,o),ce(u,f,C),ce(u,g,C),c(g,a),c(a,$),c($,m),c(a,i),c(a,R),c(R,d),c(a,l),c(a,r),c(a,p),c(a,v),V(q,v,null),c(v,H),V(P,v,null),c(a,T),V(B,a,null),c(a,fe),V(G,a,null),c(a,ue),V(J,a,null),c(a,me),c(a,re),c(a,ge),c(a,O),V(z,O,null),c(O,de),V(Z,O,null),c(a,pe),V(h,a,null),c(a,$e),c(a,N),V(X,N,null),c(N,Ve),V(x,N,null),c(N,ke),V(Q,N,null),c(a,qe),c(a,W),V(ee,W,null),c(W,Ce),V(te,W,null),c(W,Re),V(se,W,null),c(a,Ae),V(ne,a,null),c(g,Se),c(g,he),c(g,Le),c(g,ae),V(ie,ae,null),ve=!0},p(u,C){(!ve||C[0]&1)&&ye(m,u[0]),(!ve||C[0]&2)&&ye(d,u[1]);const De={};C[0]&4&&(De.value=u[2]),q.$set(De);const K={};C[0]&8&&(K.value=u[3]),P.$set(K);const A={};C[0]&32256|C[1]&64&&(A.$$scope={dirty:C,ctx:u}),B.$set(A);const Ie={};C[0]&240|C[1]&64&&(Ie.$$scope={dirty:C,ctx:u}),G.$set(Ie);const Fe={};C[0]&256&&(Fe.value=u[8]),J.$set(Fe);const oe={};C[0]&32768&&(oe.value=u[15].toLocaleString()),z.$set(oe);const le={};C[0]&65536&&(le.value=u[16]),Z.$set(le);const Y={};C[0]&131072&&(Y.value=u[17]),h.$set(Y);const U={};C[0]&262144&&(U.value=u[18]),X.$set(U);const Ee={};C[0]&524288&&(Ee.value=u[19]),x.$set(Ee);const Te={};C[0]&1048576&&(Te.value=u[20]),Q.$set(Te);const Ne={};C[0]&2097152&&(Ne.value=u[21]),ee.$set(Ne);const Be={};C[0]&4194304&&(Be.value=u[22]),te.$set(Be);const Ge={};C[0]&8388608&&(Ge.value=u[23]),se.$set(Ge);const Je={};C[0]&1056964608|C[1]&64&&(Je.$$scope={dirty:C,ctx:u}),ne.$set(Je)},i(u){ve||(_(q.$$.fragment,u),_(P.$$.fragment,u),_(B.$$.fragment,u),_(G.$$.fragment,u),_(J.$$.fragment,u),_(z.$$.fragment,u),_(Z.$$.fragment,u),_(h.$$.fragment,u),_(X.$$.fragment,u),_(x.$$.fragment,u),_(Q.$$.fragment,u),_(ee.$$.fragment,u),_(te.$$.fragment,u),_(se.$$.fragment,u),_(ne.$$.fragment,u),_(ie.$$.fragment,u),ve=!0)},o(u){w(q.$$.fragment,u),w(P.$$.fragment,u),w(B.$$.fragment,u),w(G.$$.fragment,u),w(J.$$.fragment,u),w(z.$$.fragment,u),w(Z.$$.fragment,u),w(h.$$.fragment,u),w(X.$$.fragment,u),w(x.$$.fragment,u),w(Q.$$.fragment,u),w(ee.$$.fragment,u),w(te.$$.fragment,u),w(se.$$.fragment,u),w(ne.$$.fragment,u),w(ie.$$.fragment,u),ve=!1},d(u){y(e),y(t),y(o),u&&y(f),u&&y(g),k(q),k(P),k(B),k(G),k(J),k(z),k(Z),k(h),k(X),k(x),k(Q),k(ee),k(te),k(se),k(ne),k(ie)}}}function Dt(n,e,t){_e.accessToken="pk.eyJ1IjoiY2FuYWRpYW51cmJhbmluc3RpdHV0ZSIsImEiOiJjbG95bzJiMG4wNW5mMmlzMjkxOW5lM241In0.o8ZurilZ00tGHXFV-gLSag";let{map:s}=e,o="Canada",f="23,223 Main Streets",g=0,a=0,$="397,476",m="185,241",i="143,274",R="68,960",d=.52,l="197,035",r="59,272",p="80,252",v="34,858",q="8,551",H="14,101",P=76650,T=24,B=33,fe=30,G=29.6,ue=4.7,J=34,me=10,re=9,ge=0,O=0,z=0,de=0,Z=0,pe=0;return lt(()=>{t(30,s=new _e.Map({container:"map",style:"mapbox://styles/canadianurbaninstitute/clpa3pw06003901qr8j8v7rjj",center:[-89,53],zoom:3.6,minZoom:2,scrollZoom:!0,attributionControl:!1})),s.addControl(new _e.NavigationControl),s.addControl(new _e.AttributionControl({customAttribution:"Canadian Urban Institute"})),s.on("load",()=>{s.addControl(new MapboxGeocoder({accessToken:_e.accessToken,countries:"ca",proximity:"ip",types:"address, region, country, postcode, district, place, locality, neighborhood",language:"en, fr",marker:!0,placeholder:"Search for a place",mapboxgl:_e}),"top-left")}),s.on("click",["mainstreets-canada","mainstreets-canada-invisible"],h=>{t(0,o=h.features[0].properties.R_STNAM),t(1,f=h.features[0].properties.R_PLACE),t(2,g=h.features[0].properties.Pop),t(3,a=h.features[0].properties.total_emp.toFixed(0)),t(4,$=h.features[0].properties.Bsnss_t.toFixed(0)),t(7,R=h.features[0].properties.FdandDr.toFixed(0)),t(5,m=h.features[0].properties.Retail.toFixed(0)),t(6,i=h.features[0].properties.SrvcsaO.toFixed(0)),t(8,d=h.features[0].properties.BII_avg.toFixed(2)),t(9,l=h.features[0].properties.Cvc_ttl.toFixed(0)),t(13,q=h.features[0].properties.ArtsanC.toFixed(0)),t(12,v=h.features[0].properties.Educatn.toFixed(0)),t(10,r=h.features[0].properties.GvrnaCS.toFixed(0)),t(11,p=h.features[0].properties.HlthaCF.toFixed(0)),t(14,H=h.features[0].properties.RcrtnFc.toFixed(0)),t(15,P=parseFloat(h.features[0].properties.AvgEmpInc.toFixed(0)).toLocaleString()),t(16,T=h.features[0].properties.UniDeg.toFixed(0)),t(17,B=h.features[0].properties.AvgAge.toFixed(0)),t(18,fe=h.features[0].properties.ImmNPR.toFixed(0)),t(19,G=h.features[0].properties.VM.toFixed(0)),t(20,ue=h.features[0].properties.Indig.toFixed(0)),t(21,J=h.features[0].properties.MobCar.toFixed(0)),t(22,me=h.features[0].properties.MobPT.toFixed(0)),t(23,re=h.features[0].properties.MobAct.toFixed(0)),t(24,ge=h.features[0].properties.TotalDwellings.toFixed(0)),t(25,O=h.features[0].properties.SinDetach.toFixed(0)),t(26,z=h.features[0].properties.SemiDetach.toFixed(0)),t(27,de=h.features[0].properties.Duplex.toFixed(0)),t(28,Z=h.features[0].properties.AptMore5.toFixed(0)),t(29,pe=h.features[0].properties.AptLess5.toFixed(0)),h.features[0].properties.LanEng.toFixed(0),h.features[0].properties.LanFr.toFixed(0);let $e=s.queryRenderedFeatures(h.point,{layers:["mainstreets-canada","mainstreets-canada-invisible"]});if(!$e.length)return;typeof s.getLayer("selectedRoad")<"u"&&(s.removeLayer("selectedRoad"),s.removeSource("selectedRoad"));let N=$e[0];s.addSource("selectedRoad",{type:"geojson",data:N.toJSON()}),s.addLayer({id:"selectedRoad",type:"line",source:"selectedRoad",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#cb1515","line-width":5}})}),s.on("click","toronto-bias",h=>{ut("/casestudies/westqueenwest")}),s.on("mouseenter",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{s.getCanvas().style.cursor="pointer"}),s.on("mouseleave",["mainstreets-canada","mainstreets-canada-invisible","toronto-bias"],()=>{s.getCanvas().style.cursor=""})}),n.$$set=h=>{"map"in h&&t(30,s=h.map)},[o,f,g,a,$,m,i,R,d,l,r,p,v,q,H,P,T,B,fe,G,ue,J,me,re,ge,O,z,de,Z,pe,s]}class At extends je{constructor(e){super(),Pe(this,e,Dt,Et,He,{map:30},null,[-1,-1])}}export{At as component};
